{"ast":null,"code":"var _jsxFileName = \"/Users/tommymarkopoulos/Desktop/coding/Git_Repos/chess-app/src/components/WinsByBlackDonut.js\";\nimport React from 'react';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\nimport { Doughnut } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction WinsByBlackDonut(_ref) {\n  let {\n    cumulativeData\n  } = _ref;\n  ChartJS.register(ArcElement, Tooltip, Legend);\n  const getFilteredData = () => {\n    let wins = 0;\n    let losses = 0;\n    let draws = 0;\n    Object.keys(cumulativeData.games_by_time).forEach(key => {\n      wins += cumulativeData.games_by_time.key.win;\n      losses += cumulativeData.games_by_time.key.loss;\n      draws += cumulativeData.games_by_time.key.draw;\n    });\n    return [wins, losses, draws];\n  };\n  const options = {\n    plugins: {\n      title: {\n        display: true,\n        text: 'Win % as Black',\n        font: {\n          size: 20\n        }\n      },\n      legend: {\n        position: 'right',\n        display: false\n      }\n    }\n  };\n  const labels = Object.keys(cumulativeData.games_by_time);\n  let data = {\n    labels,\n    datasets: [{\n      label: 'Black',\n      data: getFilteredData(),\n      backgroundColor: ['rgb(75, 192, 192)', 'rgb(255, 99, 132)', 'rgb(53, 162, 235)'],\n      borderColor: ['rgb(75, 192, 192)', 'rgb(255, 99, 132)', 'rgb(53, 162, 235)'],\n      borderWidth: 1\n    }]\n  };\n  const winPercent = (color, data) => {\n    const wins = data.datasets[0].data[0];\n    const losses = data.datasets[0].data[1];\n    const draws = data.datasets[0].data[2];\n    return Math.round(100 * wins / (wins + losses + draws));\n  };\n  const textCenter = {\n    // id : \"textCenter\",\n    // beforeDatasetsDraw(chart, args, pluginOptions){\n    //   const { ctx, data} = chart;\n\n    //   ctx.save();\n    //   ctx.font = 'bolder 15px sans-serif';\n    //   ctx.fillStyle = 'green';\n    //   ctx.textAlign = 'center';\n    //   ctx.textBaseline = 'middle';\n    //   ctx.fillText((`${winPercent('black',data)}%`), chart.getDatasetMeta(0).data[0].x, chart.getDatasetMeta(0).data[0].y);\n    // }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Doughnut, {\n      options: options,\n      data: data,\n      plugins: [textCenter]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n}\n_c = WinsByBlackDonut;\nexport default WinsByBlackDonut;\nvar _c;\n$RefreshReg$(_c, \"WinsByBlackDonut\");","map":{"version":3,"names":["React","Chart","ChartJS","ArcElement","Tooltip","Legend","Doughnut","jsxDEV","_jsxDEV","WinsByBlackDonut","_ref","cumulativeData","register","getFilteredData","wins","losses","draws","Object","keys","games_by_time","forEach","key","win","loss","draw","options","plugins","title","display","text","font","size","legend","position","labels","data","datasets","label","backgroundColor","borderColor","borderWidth","winPercent","color","Math","round","textCenter","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/tommymarkopoulos/Desktop/coding/Git_Repos/chess-app/src/components/WinsByBlackDonut.js"],"sourcesContent":["import React from 'react';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\nimport { Doughnut } from 'react-chartjs-2';\n\n\nfunction WinsByBlackDonut({cumulativeData}) {\n    ChartJS.register(ArcElement, Tooltip, Legend);\n\n    const getFilteredData = () => {\n      let wins = 0;\n      let losses = 0;\n      let draws = 0;\n\n      Object.keys(cumulativeData.games_by_time).forEach((key)=>{\n        wins += cumulativeData.games_by_time.key.win;\n        losses += cumulativeData.games_by_time.key.loss;\n        draws += cumulativeData.games_by_time.key.draw;\n    });\n      return [wins,losses,draws];\n\n    }\n\n    const options = {\n      plugins: {\n        title: {\n          display: true,\n          text: 'Win % as Black',\n          font: {\n            size: 20\n          }\n        },\n        legend: {\n          position: 'right',\n          display: false\n        }\n      }\n    }\n    \n    const labels = Object.keys(cumulativeData.games_by_time)\n    let data = {\n        labels,\n        datasets: [\n          {\n            label: 'Black',\n            data: getFilteredData(),\n            backgroundColor: [\n                'rgb(75, 192, 192)',\n                'rgb(255, 99, 132)',\n                'rgb(53, 162, 235)'\n            ],\n            borderColor: [\n                'rgb(75, 192, 192)',\n                'rgb(255, 99, 132)',\n                'rgb(53, 162, 235)'\n            ],\n            borderWidth: 1,\n          },\n        ],\n      };\n\n      const winPercent = (color,data) => {\n        const wins = data.datasets[0].data[0]\n        const losses = data.datasets[0].data[1]\n        const draws = data.datasets[0].data[2]\n        return Math.round(100*wins/(wins+losses+draws))\n  \n      }\n  \n      const textCenter = {\n        // id : \"textCenter\",\n        // beforeDatasetsDraw(chart, args, pluginOptions){\n        //   const { ctx, data} = chart;\n  \n        //   ctx.save();\n        //   ctx.font = 'bolder 15px sans-serif';\n        //   ctx.fillStyle = 'green';\n        //   ctx.textAlign = 'center';\n        //   ctx.textBaseline = 'middle';\n        //   ctx.fillText((`${winPercent('black',data)}%`), chart.getDatasetMeta(0).data[0].x, chart.getDatasetMeta(0).data[0].y);\n        // }\n  \n      }\n\n  return (\n    <div>\n        <Doughnut options={options} data={data} plugins={[textCenter]} />\n    </div>\n  )\n}\n\nexport default WinsByBlackDonut;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}